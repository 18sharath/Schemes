{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shara\\\\Desktop\\\\ALL FILES\\\\final capstone project\\\\ML training\\\\client\\\\src\\\\components\\\\ChatbotWidget.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { MessageSquare, Send, X, Search } from 'lucide-react';\nimport faqs from '../data/faqs';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ChatbotWidget = () => {\n  _s();\n  const [open, setOpen] = useState(false);\n  const [input, setInput] = useState('');\n  const [messages, setMessages] = useState([{\n    role: 'bot',\n    text: 'Hi! I can answer FAQs and help you explore schemes. Ask me anything.'\n  }]);\n  const [schemeIndex, setSchemeIndex] = useState([]);\n  const panelRef = useRef(null);\n  const inputRef = useRef(null);\n\n  // Try to load locally saved recommendations for lightweight search\n  useEffect(() => {\n    try {\n      // Find any recommendations_* keys in localStorage\n      const keys = Object.keys(localStorage).filter(k => k.startsWith('recommendations_'));\n      let collected = [];\n      keys.forEach(k => {\n        const arr = JSON.parse(localStorage.getItem(k) || '[]');\n        if (Array.isArray(arr)) {\n          collected = collected.concat(arr.map(r => ({\n            name: r.scheme_name,\n            category: r.schemeCategory,\n            level: r.level,\n            details: r.details,\n            benefits: r.benefits,\n            eligibility: r.eligibility\n          })));\n        }\n      });\n      // Deduplicate by name\n      const seen = new Set();\n      const unique = [];\n      for (const s of collected) {\n        const key = (s.name || '').toLowerCase();\n        if (key && !seen.has(key)) {\n          seen.add(key);\n          unique.push(s);\n        }\n      }\n      setSchemeIndex(unique.slice(0, 500)); // cap for perf\n    } catch (e) {\n      // ignore\n    }\n  }, []);\n  const searchFAQs = q => {\n    const query = q.toLowerCase();\n    const scored = faqs.map(f => {\n      var _f$tags;\n      const hay = `${f.question} ${f.answer} ${((_f$tags = f.tags) === null || _f$tags === void 0 ? void 0 : _f$tags.join(' ')) || ''}`.toLowerCase();\n      const score = (hay.includes(query) ? 2 : 0) + (f.tags || []).reduce((acc, t) => acc + (query.includes(t.toLowerCase()) ? 1 : 0), 0) +\n      // token overlap (simple)\n      query.split(/\\s+/).filter(t => t && hay.includes(t)).length;\n      return {\n        f,\n        score\n      };\n    }).filter(x => x.score > 0).sort((a, b) => b.score - a.score).slice(0, 3).map(x => x.f);\n    return scored;\n  };\n  const searchSchemes = q => {\n    if (!q || !schemeIndex.length) return [];\n    const query = q.toLowerCase();\n    const results = schemeIndex.map(s => {\n      const hay = `${s.name} ${s.category} ${s.level} ${s.details} ${s.benefits} ${s.eligibility}`.toLowerCase();\n      const nameBoost = (s.name || '').toLowerCase().includes(query) ? 3 : 0;\n      const score = nameBoost + (hay.includes(query) ? 2 : 0) + query.split(/\\s+/).filter(t => t && hay.includes(t)).length;\n      return {\n        s,\n        score\n      };\n    }).filter(x => x.score > 0).sort((a, b) => b.score - a.score).slice(0, 5).map(x => x.s);\n    return results;\n  };\n  const handleSend = e => {\n    e === null || e === void 0 ? void 0 : e.preventDefault();\n    const q = input.trim();\n    if (!q) return;\n    setMessages(m => [...m, {\n      role: 'user',\n      text: q\n    }]);\n    setInput('');\n\n    // Answer from FAQs first, then scheme search\n    const faqHits = searchFAQs(q);\n    const schemeHits = searchSchemes(q);\n    let reply = '';\n    if (faqHits.length) {\n      reply += `Here’s what I found in FAQs:\\n\\n`;\n      faqHits.forEach((f, i) => {\n        reply += `- ${f.question}\\n  ${f.answer}\\n\\n`;\n      });\n    }\n    if (schemeHits.length) {\n      reply += faqHits.length ? `Also, related schemes:\\n\\n` : `Related schemes:\\n\\n`;\n      schemeHits.forEach(s => {\n        reply += `• ${s.name}\\n`;\n        if (s.details) reply += `  ${truncate(s.details)}\\n`;\n        if (s.eligibility) reply += `  Eligibility: ${truncate(s.eligibility)}\\n`;\n        reply += `\\n`;\n      });\n    }\n    if (!reply) {\n      reply = `I couldn’t find a direct match. Try different words, or ask about “documents”, “eligibility”, or a scheme name.`;\n    }\n    setMessages(m => [...m, {\n      role: 'bot',\n      text: reply\n    }]);\n  };\n  useEffect(() => {\n    if (open) {\n      setTimeout(() => {\n        var _inputRef$current;\n        return (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.focus();\n      }, 150);\n    }\n  }, [open]);\n  const truncate = (txt, n = 180) => {\n    if (!txt) return '';\n    const t = String(txt);\n    return t.length > n ? t.slice(0, n - 1) + '…' : t;\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      title: \"Chat\",\n      onClick: () => setOpen(v => !v),\n      className: \"fixed z-40 bottom-6 right-6 rounded-full p-4 shadow-lg bg-blue-600 hover:bg-blue-700 text-white dark:bg-indigo-600 dark:hover:bg-indigo-700 transition-colors\",\n      children: open ? /*#__PURE__*/_jsxDEV(X, {\n        className: \"w-5 h-5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }, this) : /*#__PURE__*/_jsxDEV(MessageSquare, {\n        className: \"w-5 h-5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 45\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this), open && /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: panelRef,\n      className: \"fixed z-40 bottom-24 right-6 w-[92vw] max-w-md rounded-2xl border border-gray-200 dark:border-gray-700 bg-white/95 dark:bg-gray-900/95 backdrop-blur shadow-xl flex flex-col overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-4 py-3 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Search, {\n            className: \"w-4 h-4 text-blue-600 dark:text-indigo-300\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-semibold text-gray-800 dark:text-gray-200\",\n            children: \"Assistant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setOpen(false),\n          className: \"p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-800\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            className: \"w-4 h-4 text-gray-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-4 py-3 space-y-3 max-h-[50vh] overflow-y-auto\",\n        children: messages.map((m, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${m.role === 'bot' ? 'text-gray-800 dark:text-gray-200' : 'text-gray-700 dark:text-gray-300'} whitespace-pre-line`,\n          children: m.text\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSend,\n        className: \"p-3 border-t border-gray-200 dark:border-gray-700 flex gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          ref: inputRef,\n          value: input,\n          onChange: e => setInput(e.target.value),\n          placeholder: \"Ask about eligibility, documents, or a scheme name\\u2026\",\n          className: \"flex-1 form-input bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          children: /*#__PURE__*/_jsxDEV(Send, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(ChatbotWidget, \"Jy4o+dPyt6Z+Q4FYEaKmjUdD5yc=\");\n_c = ChatbotWidget;\nexport default ChatbotWidget;\nvar _c;\n$RefreshReg$(_c, \"ChatbotWidget\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","MessageSquare","Send","X","Search","faqs","jsxDEV","_jsxDEV","Fragment","_Fragment","ChatbotWidget","_s","open","setOpen","input","setInput","messages","setMessages","role","text","schemeIndex","setSchemeIndex","panelRef","inputRef","keys","Object","localStorage","filter","k","startsWith","collected","forEach","arr","JSON","parse","getItem","Array","isArray","concat","map","r","name","scheme_name","category","schemeCategory","level","details","benefits","eligibility","seen","Set","unique","s","key","toLowerCase","has","add","push","slice","e","searchFAQs","q","query","scored","f","_f$tags","hay","question","answer","tags","join","score","includes","reduce","acc","t","split","length","x","sort","a","b","searchSchemes","results","nameBoost","handleSend","preventDefault","trim","m","faqHits","schemeHits","reply","i","truncate","setTimeout","_inputRef$current","current","focus","txt","n","String","children","title","onClick","v","className","fileName","_jsxFileName","lineNumber","columnNumber","ref","idx","onSubmit","value","onChange","target","placeholder","type","_c","$RefreshReg$"],"sources":["C:/Users/shara/Desktop/ALL FILES/final capstone project/ML training/client/src/components/ChatbotWidget.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from 'react';\r\nimport { MessageSquare, Send, X, Search } from 'lucide-react';\r\nimport faqs from '../data/faqs';\r\n\r\nconst ChatbotWidget = () => {\r\n  const [open, setOpen] = useState(false);\r\n  const [input, setInput] = useState('');\r\n  const [messages, setMessages] = useState([\r\n    { role: 'bot', text: 'Hi! I can answer FAQs and help you explore schemes. Ask me anything.' },\r\n  ]);\r\n  const [schemeIndex, setSchemeIndex] = useState([]);\r\n  const panelRef = useRef(null);\r\n  const inputRef = useRef(null);\r\n\r\n  // Try to load locally saved recommendations for lightweight search\r\n  useEffect(() => {\r\n    try {\r\n      // Find any recommendations_* keys in localStorage\r\n      const keys = Object.keys(localStorage).filter((k) => k.startsWith('recommendations_'));\r\n      let collected = [];\r\n      keys.forEach((k) => {\r\n        const arr = JSON.parse(localStorage.getItem(k) || '[]');\r\n        if (Array.isArray(arr)) {\r\n          collected = collected.concat(\r\n            arr.map((r) => ({\r\n              name: r.scheme_name,\r\n              category: r.schemeCategory,\r\n              level: r.level,\r\n              details: r.details,\r\n              benefits: r.benefits,\r\n              eligibility: r.eligibility,\r\n            }))\r\n          );\r\n        }\r\n      });\r\n      // Deduplicate by name\r\n      const seen = new Set();\r\n      const unique = [];\r\n      for (const s of collected) {\r\n        const key = (s.name || '').toLowerCase();\r\n        if (key && !seen.has(key)) {\r\n          seen.add(key);\r\n          unique.push(s);\r\n        }\r\n      }\r\n      setSchemeIndex(unique.slice(0, 500)); // cap for perf\r\n    } catch (e) {\r\n      // ignore\r\n    }\r\n  }, []);\r\n\r\n  const searchFAQs = (q) => {\r\n    const query = q.toLowerCase();\r\n    const scored = faqs\r\n      .map((f) => {\r\n        const hay = `${f.question} ${f.answer} ${f.tags?.join(' ') || ''}`.toLowerCase();\r\n        const score =\r\n          (hay.includes(query) ? 2 : 0) +\r\n          (f.tags || []).reduce((acc, t) => acc + (query.includes(t.toLowerCase()) ? 1 : 0), 0) +\r\n          // token overlap (simple)\r\n          query\r\n            .split(/\\s+/)\r\n            .filter((t) => t && hay.includes(t)).length;\r\n        return { f, score };\r\n      })\r\n      .filter((x) => x.score > 0)\r\n      .sort((a, b) => b.score - a.score)\r\n      .slice(0, 3)\r\n      .map((x) => x.f);\r\n    return scored;\r\n  };\r\n\r\n  const searchSchemes = (q) => {\r\n    if (!q || !schemeIndex.length) return [];\r\n    const query = q.toLowerCase();\r\n    const results = schemeIndex\r\n      .map((s) => {\r\n        const hay = `${s.name} ${s.category} ${s.level} ${s.details} ${s.benefits} ${s.eligibility}`.toLowerCase();\r\n        const nameBoost = (s.name || '').toLowerCase().includes(query) ? 3 : 0;\r\n        const score =\r\n          nameBoost +\r\n          (hay.includes(query) ? 2 : 0) +\r\n          query\r\n            .split(/\\s+/)\r\n            .filter((t) => t && hay.includes(t)).length;\r\n        return { s, score };\r\n      })\r\n      .filter((x) => x.score > 0)\r\n      .sort((a, b) => b.score - a.score)\r\n      .slice(0, 5)\r\n      .map((x) => x.s);\r\n    return results;\r\n  };\r\n\r\n  const handleSend = (e) => {\r\n    e?.preventDefault();\r\n    const q = input.trim();\r\n    if (!q) return;\r\n\r\n    setMessages((m) => [...m, { role: 'user', text: q }]);\r\n    setInput('');\r\n\r\n    // Answer from FAQs first, then scheme search\r\n    const faqHits = searchFAQs(q);\r\n    const schemeHits = searchSchemes(q);\r\n\r\n    let reply = '';\r\n    if (faqHits.length) {\r\n      reply += `Here’s what I found in FAQs:\\n\\n`;\r\n      faqHits.forEach((f, i) => {\r\n        reply += `- ${f.question}\\n  ${f.answer}\\n\\n`;\r\n      });\r\n    }\r\n\r\n    if (schemeHits.length) {\r\n      reply += (faqHits.length ? `Also, related schemes:\\n\\n` : `Related schemes:\\n\\n`);\r\n      schemeHits.forEach((s) => {\r\n        reply += `• ${s.name}\\n`;\r\n        if (s.details) reply += `  ${truncate(s.details)}\\n`;\r\n        if (s.eligibility) reply += `  Eligibility: ${truncate(s.eligibility)}\\n`;\r\n        reply += `\\n`;\r\n      });\r\n    }\r\n\r\n    if (!reply) {\r\n      reply = `I couldn’t find a direct match. Try different words, or ask about “documents”, “eligibility”, or a scheme name.`;\r\n    }\r\n\r\n    setMessages((m) => [...m, { role: 'bot', text: reply }]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (open) {\r\n      setTimeout(() => inputRef.current?.focus(), 150);\r\n    }\r\n  }, [open]);\r\n\r\n  const truncate = (txt, n = 180) => {\r\n    if (!txt) return '';\r\n    const t = String(txt);\r\n    return t.length > n ? t.slice(0, n - 1) + '…' : t;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* Floating Button */}\r\n      <button\r\n        title=\"Chat\"\r\n        onClick={() => setOpen((v) => !v)}\r\n        className=\"fixed z-40 bottom-6 right-6 rounded-full p-4 shadow-lg bg-blue-600 hover:bg-blue-700 text-white dark:bg-indigo-600 dark:hover:bg-indigo-700 transition-colors\"\r\n      >\r\n        {open ? <X className=\"w-5 h-5\" /> : <MessageSquare className=\"w-5 h-5\" />}\r\n      </button>\r\n\r\n      {/* Panel */}\r\n      {open && (\r\n        <div\r\n          ref={panelRef}\r\n          className=\"fixed z-40 bottom-24 right-6 w-[92vw] max-w-md rounded-2xl border border-gray-200 dark:border-gray-700 bg-white/95 dark:bg-gray-900/95 backdrop-blur shadow-xl flex flex-col overflow-hidden\"\r\n        >\r\n          <div className=\"px-4 py-3 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <Search className=\"w-4 h-4 text-blue-600 dark:text-indigo-300\" />\r\n              <h4 className=\"font-semibold text-gray-800 dark:text-gray-200\">Assistant</h4>\r\n            </div>\r\n            <button onClick={() => setOpen(false)} className=\"p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-800\">\r\n              <X className=\"w-4 h-4 text-gray-500\" />\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"px-4 py-3 space-y-3 max-h-[50vh] overflow-y-auto\">\r\n            {messages.map((m, idx) => (\r\n              <div key={idx} className={`${m.role === 'bot' ? 'text-gray-800 dark:text-gray-200' : 'text-gray-700 dark:text-gray-300'} whitespace-pre-line`}>\r\n                {m.text}\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          <form onSubmit={handleSend} className=\"p-3 border-t border-gray-200 dark:border-gray-700 flex gap-2\">\r\n            <input\r\n              ref={inputRef}\r\n              value={input}\r\n              onChange={(e) => setInput(e.target.value)}\r\n              placeholder=\"Ask about eligibility, documents, or a scheme name…\"\r\n              className=\"flex-1 form-input bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100\"\r\n            />\r\n            <button type=\"submit\" className=\"btn btn-primary\">\r\n              <Send className=\"w-4 h-4\" />\r\n            </button>\r\n          </form>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ChatbotWidget;\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}