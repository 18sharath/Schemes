{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shara\\\\Desktop\\\\ALL FILES\\\\final capstone project\\\\ML training\\\\client\\\\src\\\\pages\\\\Profile.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { profileAPI } from '../services/api';\nimport { ArrowLeft, ArrowRight, Check, RotateCcw, Save, CheckCircle, AlertCircle } from 'lucide-react';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Profile = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    user,\n    updateUser,\n    loadUser\n  } = useAuth();\n  const [currentStep, setCurrentStep] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [profileStatus, setProfileStatus] = useState(null);\n  const totalSteps = 4;\n  const [formData, setFormData] = useState({\n    gender: '',\n    age: '',\n    state: '',\n    caste_group: '',\n    occupation: '',\n    income: '',\n    interests: [],\n    previous_applications: []\n  });\n  const [newInterest, setNewInterest] = useState('');\n  const [newApplication, setNewApplication] = useState('');\n  const states = ['Andhra Pradesh', 'Arunachal Pradesh', 'Assam', 'Bihar', 'Chhattisgarh', 'Goa', 'Gujarat', 'Haryana', 'Himachal Pradesh', 'Jharkhand', 'Karnataka', 'Kerala', 'Madhya Pradesh', 'Maharashtra', 'Manipur', 'Meghalaya', 'Mizoram', 'Nagaland', 'Odisha', 'Punjab', 'Rajasthan', 'Sikkim', 'Tamil Nadu', 'Telangana', 'Tripura', 'Uttar Pradesh', 'Uttarakhand', 'West Bengal', 'Delhi', 'Jammu and Kashmir'];\n  useEffect(() => {\n    loadProfile();\n    loadProfileStatus();\n  }, []);\n  const loadProfile = async () => {\n    try {\n      const response = await profileAPI.getProfile();\n      const profile = response.data.profile;\n\n      // Ensure interests and previous_applications are arrays\n      const interests = Array.isArray(profile.interests) ? profile.interests : profile.interests ? [profile.interests] : [];\n      const previous_applications = Array.isArray(profile.previous_applications) ? profile.previous_applications : profile.previous_applications ? [profile.previous_applications] : [];\n      console.log('Loaded profile:', {\n        interests,\n        interestsLength: interests.length,\n        previous_applications,\n        previous_applicationsLength: previous_applications.length\n      });\n      setFormData({\n        gender: profile.gender || '',\n        age: profile.age || '',\n        state: profile.state || '',\n        caste_group: profile.caste_group || '',\n        occupation: profile.occupation || '',\n        income: profile.income || '',\n        interests: interests,\n        previous_applications: previous_applications\n      });\n    } catch (error) {\n      console.error('Failed to load profile:', error);\n      toast.error('Failed to load profile');\n    }\n  };\n  const loadProfileStatus = async () => {\n    try {\n      const response = await profileAPI.getProfileStatus();\n      setProfileStatus(response.data);\n    } catch (error) {\n      console.error('Failed to load profile status:', error);\n    }\n  };\n  const handleChange = (field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const handleNext = () => {\n    if (validateStep(currentStep)) {\n      if (currentStep < totalSteps) {\n        setCurrentStep(currentStep + 1);\n      } else {\n        handleSubmit();\n      }\n    }\n  };\n  const handleBack = () => {\n    if (currentStep > 1) {\n      setCurrentStep(currentStep - 1);\n    }\n  };\n  const handleReset = () => {\n    loadProfile();\n    setCurrentStep(1);\n    toast.success('Form reset to saved values');\n  };\n  const validateStep = step => {\n    switch (step) {\n      case 1:\n        if (!formData.gender) {\n          toast.error('Please select your gender');\n          return false;\n        }\n        if (!formData.age || formData.age < 18 || formData.age > 100) {\n          toast.error('Please enter a valid age (18-100)');\n          return false;\n        }\n        return true;\n      case 2:\n        if (!formData.state) {\n          toast.error('Please select your state');\n          return false;\n        }\n        if (!formData.caste_group) {\n          toast.error('Please select your caste group');\n          return false;\n        }\n        return true;\n      case 3:\n        if (!formData.occupation) {\n          toast.error('Please enter your occupation');\n          return false;\n        }\n        return true;\n      case 4:\n        return true;\n      // Interests and applications are optional\n      default:\n        return true;\n    }\n  };\n  const handleSubmit = async () => {\n    setLoading(true);\n    try {\n      var _response$data$profil;\n      // Ensure interests and previous_applications are always arrays\n      const dataToSubmit = {\n        ...formData,\n        interests: Array.isArray(formData.interests) ? formData.interests : [],\n        previous_applications: Array.isArray(formData.previous_applications) ? formData.previous_applications : []\n      };\n\n      // Debug: Log what we're sending\n      console.log('=== Submitting profile data ===');\n      console.log('Form data state:', formData);\n      console.log('Data to submit:', dataToSubmit);\n      console.log('Interests details:', {\n        interests: dataToSubmit.interests,\n        interestsType: typeof dataToSubmit.interests,\n        isArray: Array.isArray(dataToSubmit.interests),\n        interestsLength: dataToSubmit.interests.length,\n        interestsJSON: JSON.stringify(dataToSubmit.interests)\n      });\n      const response = await profileAPI.updateProfile(dataToSubmit);\n      console.log('Profile update response:', response.data);\n      console.log('Response interests:', (_response$data$profil = response.data.profile) === null || _response$data$profil === void 0 ? void 0 : _response$data$profil.interests);\n\n      // Reload user data to get updated profile status\n      await loadUser();\n      toast.success('Profile updated successfully!');\n      loadProfileStatus();\n      // Redirect to dashboard after successful save\n      setTimeout(() => {\n        navigate('/dashboard');\n      }, 1000);\n    } catch (error) {\n      var _error$response, _error$response2, _error$response2$data;\n      console.error('Failed to update profile:', error);\n      console.error('Error response:', (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data);\n      toast.error(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'Failed to update profile');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const addInterest = () => {\n    const trimmedInterest = newInterest.trim();\n    if (trimmedInterest) {\n      // Use functional update to ensure we have the latest state\n      setFormData(prev => {\n        const currentInterests = Array.isArray(prev.interests) ? prev.interests : [];\n        if (!currentInterests.includes(trimmedInterest)) {\n          const updatedInterests = [...currentInterests, trimmedInterest];\n          console.log('Adding interest:', trimmedInterest, 'New interests array:', updatedInterests);\n          return {\n            ...prev,\n            interests: updatedInterests\n          };\n        }\n        return prev;\n      });\n      setNewInterest('');\n    } else {\n      toast.error('Please enter a valid interest');\n    }\n  };\n  const removeInterest = interest => {\n    setFormData(prev => {\n      const currentInterests = Array.isArray(prev.interests) ? prev.interests : [];\n      const updatedInterests = currentInterests.filter(i => i !== interest);\n      console.log('Removing interest:', interest, 'Remaining interests:', updatedInterests);\n      return {\n        ...prev,\n        interests: updatedInterests\n      };\n    });\n  };\n  const addApplication = () => {\n    const trimmedApplication = newApplication.trim();\n    if (trimmedApplication) {\n      setFormData(prev => {\n        const currentApplications = Array.isArray(prev.previous_applications) ? prev.previous_applications : [];\n        if (!currentApplications.includes(trimmedApplication)) {\n          return {\n            ...prev,\n            previous_applications: [...currentApplications, trimmedApplication]\n          };\n        }\n        return prev;\n      });\n      setNewApplication('');\n    } else {\n      toast.error('Please enter a valid application name');\n    }\n  };\n  const removeApplication = application => {\n    setFormData(prev => {\n      const currentApplications = Array.isArray(prev.previous_applications) ? prev.previous_applications : [];\n      return {\n        ...prev,\n        previous_applications: currentApplications.filter(a => a !== application)\n      };\n    });\n  };\n  const renderProgressIndicator = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center space-x-2 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleBack,\n        disabled: currentStep === 1,\n        className: \"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 flex items-center space-x-1 disabled:opacity-50 disabled:cursor-not-allowed\",\n        children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 flex items-center space-x-2 ml-4\",\n        children: Array.from({\n          length: totalSteps\n        }, (_, i) => i + 1).map(step => /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `w-6 h-6 rounded-full flex items-center justify-center text-xs ${step < currentStep ? 'bg-green-500 text-white' : step === currentStep ? 'bg-green-500 text-white border-2 border-green-600 dark:border-green-400' : 'bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 border-2 border-gray-300 dark:border-gray-600'}`,\n            children: step < currentStep ? /*#__PURE__*/_jsxDEV(Check, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-semibold\",\n              children: step\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 15\n          }, this), step < totalSteps && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `h-1 w-8 ${step < currentStep ? 'bg-green-500' : 'bg-gray-200 dark:bg-gray-700'}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 17\n          }, this)]\n        }, step, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 7\n    }, this);\n  };\n  const renderStep1 = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-red-500\",\n          children: \"*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this), \"Gender\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-3 gap-3\",\n        children: ['Male', 'Female', 'Transgender'].map(option => /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => handleChange('gender', option.toLowerCase()),\n          className: `p-4 rounded-lg border-2 transition-all ${formData.gender === option.toLowerCase() ? 'border-green-500 bg-green-50 dark:bg-green-900/30 dark:border-green-400' : 'border-gray-200 bg-white dark:bg-gray-700 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500'}`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col items-center space-y-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-2xl\",\n              children: [option === 'Male' && '♂', option === 'Female' && '♀', option === 'Transgender' && '⚧']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-medium text-gray-800 dark:text-gray-200\",\n              children: option\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 15\n          }, this)\n        }, option, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-red-500\",\n          children: \"*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 11\n        }, this), \"Age\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          value: formData.age,\n          onChange: e => handleChange('age', e.target.value),\n          className: \"px-3 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:border-green-500 dark:focus:border-green-400 focus:outline-none text-sm flex-1 text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            className: \"text-gray-600 dark:text-gray-400\",\n            children: \"--\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this), Array.from({\n            length: 83\n          }, (_, i) => i + 18).map(age => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: age,\n            className: \"text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700\",\n            children: age\n          }, age, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-gray-600 dark:text-gray-400 text-sm\",\n          children: \"years\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 299,\n    columnNumber: 5\n  }, this);\n  const renderStep2 = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-red-500\",\n          children: \"*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this), \"State\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: formData.state,\n        onChange: e => handleChange('state', e.target.value),\n        className: \"w-full px-3 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:border-green-500 dark:focus:border-green-400 focus:outline-none text-sm text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          className: \"text-gray-600 dark:text-gray-400\",\n          children: \"--Select One--\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this), states.map(state => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: state,\n          className: \"text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700\",\n          children: state\n        }, state, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-red-500\",\n          children: \"*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this), \"Caste Group\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: formData.caste_group,\n        onChange: e => handleChange('caste_group', e.target.value),\n        className: \"w-full px-3 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:border-green-500 dark:focus:border-green-400 focus:outline-none text-sm text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          className: \"text-gray-600 dark:text-gray-400\",\n          children: \"--Select One--\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"General\",\n          className: \"text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700\",\n          children: \"General\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"OBC\",\n          className: \"text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700\",\n          children: \"Other Backward Class (OBC)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"SC\",\n          className: \"text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700\",\n          children: \"Scheduled Caste (SC)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"ST\",\n          className: \"text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700\",\n          children: \"Scheduled Tribe (ST)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Minority\",\n          className: \"text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700\",\n          children: \"Minority\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Other\",\n          className: \"text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700\",\n          children: \"Other\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 353,\n    columnNumber: 5\n  }, this);\n  const renderStep3 = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-red-500\",\n          children: \"*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 11\n        }, this), \"Occupation\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: formData.occupation,\n        onChange: e => handleChange('occupation', e.target.value),\n        placeholder: \"e.g., Student, Farmer, Engineer\",\n        className: \"w-full px-3 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:border-green-500 dark:focus:border-green-400 focus:outline-none text-sm text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700 placeholder-gray-400 dark:placeholder-gray-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-3\",\n        children: \"Annual Income (\\u20B9)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: formData.income,\n        onChange: e => handleChange('income', e.target.value),\n        placeholder: \"Enter your annual income\",\n        className: \"w-full px-3 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:border-green-500 dark:focus:border-green-400 focus:outline-none text-sm text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700 placeholder-gray-400 dark:placeholder-gray-500\",\n        min: \"0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 394,\n    columnNumber: 5\n  }, this);\n  const renderStep4 = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-3\",\n        children: \"Interests & Preferences\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2 mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: newInterest,\n          onChange: e => setNewInterest(e.target.value),\n          onKeyPress: e => e.key === 'Enter' && (e.preventDefault(), addInterest()),\n          placeholder: \"e.g., agriculture, education, health\",\n          className: \"flex-1 px-3 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:border-green-500 dark:focus:border-green-400 focus:outline-none text-sm text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700 placeholder-gray-400 dark:placeholder-gray-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: addInterest,\n          className: \"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 text-sm\",\n          children: \"Add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 9\n      }, this), formData.interests.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-2\",\n        children: formData.interests.map((interest, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300\",\n          children: [interest, /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => removeInterest(interest),\n            className: \"ml-1 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200\",\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-3\",\n        children: \"Previous Applications\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2 mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: newApplication,\n          onChange: e => setNewApplication(e.target.value),\n          onKeyPress: e => e.key === 'Enter' && (e.preventDefault(), addApplication()),\n          placeholder: \"e.g., PM Kisan, Ayushman Bharat\",\n          className: \"flex-1 px-3 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:border-green-500 dark:focus:border-green-400 focus:outline-none text-sm text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700 placeholder-gray-400 dark:placeholder-gray-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: addApplication,\n          className: \"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 text-sm\",\n          children: \"Add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 9\n      }, this), formData.previous_applications.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-2\",\n        children: formData.previous_applications.map((application, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"inline-flex items-center px-2 py-1 rounded-full text-xs bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300\",\n          children: [application, /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => removeApplication(application),\n            className: \"ml-1 text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-200\",\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 490,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 468,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 425,\n    columnNumber: 5\n  }, this);\n  const renderCurrentStep = () => {\n    switch (currentStep) {\n      case 1:\n        return renderStep1();\n      case 2:\n        return renderStep2();\n      case 3:\n        return renderStep3();\n      case 4:\n        return renderStep4();\n      default:\n        return null;\n    }\n  };\n  const completionPercentage = (profileStatus === null || profileStatus === void 0 ? void 0 : profileStatus.completionPercentage) || 0;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-2xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold text-gray-900 dark:text-white mb-2\",\n        children: \"Your Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 532,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-600 dark:text-gray-300\",\n        children: \"Complete your profile to get personalized scheme recommendations.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 533,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 531,\n      columnNumber: 7\n    }, this), profileStatus && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card p-4 mb-6 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold text-gray-800 dark:text-gray-200\",\n          children: \"Profile Completion\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xl font-bold text-blue-600 dark:text-blue-400\",\n          children: [completionPercentage, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 541,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 539,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full bg-gray-200 rounded-full h-2 mb-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-500\",\n          style: {\n            width: `${completionPercentage}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 543,\n        columnNumber: 11\n      }, this), profileStatus.missingFields.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center text-xs text-gray-600\",\n        children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n          className: \"w-3 h-3 mr-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 551,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Missing: \", profileStatus.missingFields.join(', ')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 552,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 550,\n        columnNumber: 13\n      }, this), completionPercentage === 100 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center text-xs text-green-600\",\n        children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n          className: \"w-3 h-3 mr-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Profile complete! You can now get personalized recommendations.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 558,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 556,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 538,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700\",\n      children: [renderProgressIndicator(), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6 min-h-[200px]\",\n        children: renderCurrentStep()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 567,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleReset,\n          className: \"text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300 flex items-center space-x-1 text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(RotateCcw, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 576,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Reset\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 577,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 572,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleNext,\n          disabled: loading,\n          className: \"px-6 py-2 bg-green-500 text-white rounded-lg font-medium hover:bg-green-600 transition-colors flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed text-sm\",\n          children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 586,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: currentStep === totalSteps ? 'Save Profile' : 'Next'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 589,\n              columnNumber: 17\n            }, this), currentStep < totalSteps ? /*#__PURE__*/_jsxDEV(ArrowRight, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 591,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(Save, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 593,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 580,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 571,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 564,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 530,\n    columnNumber: 5\n  }, this);\n};\n_s(Profile, \"PFDo1VNdeSQPONpBL+F4oxpvuG0=\", false, function () {\n  return [useNavigate, useAuth];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useAuth","profileAPI","ArrowLeft","ArrowRight","Check","RotateCcw","Save","CheckCircle","AlertCircle","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","Profile","_s","navigate","user","updateUser","loadUser","currentStep","setCurrentStep","loading","setLoading","profileStatus","setProfileStatus","totalSteps","formData","setFormData","gender","age","state","caste_group","occupation","income","interests","previous_applications","newInterest","setNewInterest","newApplication","setNewApplication","states","loadProfile","loadProfileStatus","response","getProfile","profile","data","Array","isArray","console","log","interestsLength","length","previous_applicationsLength","error","getProfileStatus","handleChange","field","value","prev","handleNext","validateStep","handleSubmit","handleBack","handleReset","success","step","_response$data$profil","dataToSubmit","interestsType","interestsJSON","JSON","stringify","updateProfile","setTimeout","_error$response","_error$response2","_error$response2$data","message","addInterest","trimmedInterest","trim","currentInterests","includes","updatedInterests","removeInterest","interest","filter","i","addApplication","trimmedApplication","currentApplications","removeApplication","application","a","renderProgressIndicator","className","children","onClick","disabled","fileName","_jsxFileName","lineNumber","columnNumber","from","_","map","renderStep1","option","type","toLowerCase","onChange","e","target","renderStep2","renderStep3","placeholder","min","renderStep4","onKeyPress","key","preventDefault","index","renderCurrentStep","completionPercentage","style","width","missingFields","join","_c","$RefreshReg$"],"sources":["C:/Users/shara/Desktop/ALL FILES/final capstone project/ML training/client/src/pages/Profile.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { profileAPI } from '../services/api';\r\nimport { ArrowLeft, ArrowRight, Check, RotateCcw, Save, CheckCircle, AlertCircle } from 'lucide-react';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst Profile = () => {\r\n  const navigate = useNavigate();\r\n  const { user, updateUser, loadUser } = useAuth();\r\n  const [currentStep, setCurrentStep] = useState(1);\r\n  const [loading, setLoading] = useState(false);\r\n  const [profileStatus, setProfileStatus] = useState(null);\r\n  \r\n  const totalSteps = 4;\r\n  \r\n  const [formData, setFormData] = useState({\r\n    gender: '',\r\n    age: '',\r\n    state: '',\r\n    caste_group: '',\r\n    occupation: '',\r\n    income: '',\r\n    interests: [],\r\n    previous_applications: []\r\n  });\r\n\r\n  const [newInterest, setNewInterest] = useState('');\r\n  const [newApplication, setNewApplication] = useState('');\r\n\r\n  const states = [\r\n    'Andhra Pradesh', 'Arunachal Pradesh', 'Assam', 'Bihar', 'Chhattisgarh',\r\n    'Goa', 'Gujarat', 'Haryana', 'Himachal Pradesh', 'Jharkhand',\r\n    'Karnataka', 'Kerala', 'Madhya Pradesh', 'Maharashtra', 'Manipur',\r\n    'Meghalaya', 'Mizoram', 'Nagaland', 'Odisha', 'Punjab',\r\n    'Rajasthan', 'Sikkim', 'Tamil Nadu', 'Telangana', 'Tripura',\r\n    'Uttar Pradesh', 'Uttarakhand', 'West Bengal', 'Delhi', 'Jammu and Kashmir'\r\n  ];\r\n\r\n  useEffect(() => {\r\n    loadProfile();\r\n    loadProfileStatus();\r\n  }, []);\r\n\r\n  const loadProfile = async () => {\r\n    try {\r\n      const response = await profileAPI.getProfile();\r\n      const profile = response.data.profile;\r\n      \r\n      // Ensure interests and previous_applications are arrays\r\n      const interests = Array.isArray(profile.interests) ? profile.interests : (profile.interests ? [profile.interests] : []);\r\n      const previous_applications = Array.isArray(profile.previous_applications) \r\n        ? profile.previous_applications \r\n        : (profile.previous_applications ? [profile.previous_applications] : []);\r\n      \r\n      console.log('Loaded profile:', {\r\n        interests,\r\n        interestsLength: interests.length,\r\n        previous_applications,\r\n        previous_applicationsLength: previous_applications.length\r\n      });\r\n      \r\n      setFormData({\r\n        gender: profile.gender || '',\r\n        age: profile.age || '',\r\n        state: profile.state || '',\r\n        caste_group: profile.caste_group || '',\r\n        occupation: profile.occupation || '',\r\n        income: profile.income || '',\r\n        interests: interests,\r\n        previous_applications: previous_applications\r\n      });\r\n    } catch (error) {\r\n      console.error('Failed to load profile:', error);\r\n      toast.error('Failed to load profile');\r\n    }\r\n  };\r\n\r\n  const loadProfileStatus = async () => {\r\n    try {\r\n      const response = await profileAPI.getProfileStatus();\r\n      setProfileStatus(response.data);\r\n    } catch (error) {\r\n      console.error('Failed to load profile status:', error);\r\n    }\r\n  };\r\n\r\n  const handleChange = (field, value) => {\r\n    setFormData(prev => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  const handleNext = () => {\r\n    if (validateStep(currentStep)) {\r\n      if (currentStep < totalSteps) {\r\n        setCurrentStep(currentStep + 1);\r\n      } else {\r\n        handleSubmit();\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleBack = () => {\r\n    if (currentStep > 1) {\r\n      setCurrentStep(currentStep - 1);\r\n    }\r\n  };\r\n\r\n  const handleReset = () => {\r\n    loadProfile();\r\n    setCurrentStep(1);\r\n    toast.success('Form reset to saved values');\r\n  };\r\n\r\n  const validateStep = (step) => {\r\n    switch (step) {\r\n      case 1:\r\n        if (!formData.gender) {\r\n          toast.error('Please select your gender');\r\n          return false;\r\n        }\r\n        if (!formData.age || formData.age < 18 || formData.age > 100) {\r\n          toast.error('Please enter a valid age (18-100)');\r\n          return false;\r\n        }\r\n        return true;\r\n      case 2:\r\n        if (!formData.state) {\r\n          toast.error('Please select your state');\r\n          return false;\r\n        }\r\n        if (!formData.caste_group) {\r\n          toast.error('Please select your caste group');\r\n          return false;\r\n        }\r\n        return true;\r\n      case 3:\r\n        if (!formData.occupation) {\r\n          toast.error('Please enter your occupation');\r\n          return false;\r\n        }\r\n        return true;\r\n      case 4:\r\n        return true; // Interests and applications are optional\r\n      default:\r\n        return true;\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    setLoading(true);\r\n    try {\r\n      // Ensure interests and previous_applications are always arrays\r\n      const dataToSubmit = {\r\n        ...formData,\r\n        interests: Array.isArray(formData.interests) ? formData.interests : [],\r\n        previous_applications: Array.isArray(formData.previous_applications) ? formData.previous_applications : []\r\n      };\r\n      \r\n      // Debug: Log what we're sending\r\n      console.log('=== Submitting profile data ===');\r\n      console.log('Form data state:', formData);\r\n      console.log('Data to submit:', dataToSubmit);\r\n      console.log('Interests details:', {\r\n        interests: dataToSubmit.interests,\r\n        interestsType: typeof dataToSubmit.interests,\r\n        isArray: Array.isArray(dataToSubmit.interests),\r\n        interestsLength: dataToSubmit.interests.length,\r\n        interestsJSON: JSON.stringify(dataToSubmit.interests)\r\n      });\r\n      \r\n      const response = await profileAPI.updateProfile(dataToSubmit);\r\n      console.log('Profile update response:', response.data);\r\n      console.log('Response interests:', response.data.profile?.interests);\r\n      \r\n      // Reload user data to get updated profile status\r\n      await loadUser();\r\n      toast.success('Profile updated successfully!');\r\n      loadProfileStatus();\r\n      // Redirect to dashboard after successful save\r\n      setTimeout(() => {\r\n        navigate('/dashboard');\r\n      }, 1000);\r\n    } catch (error) {\r\n      console.error('Failed to update profile:', error);\r\n      console.error('Error response:', error.response?.data);\r\n      toast.error(error.response?.data?.message || 'Failed to update profile');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const addInterest = () => {\r\n    const trimmedInterest = newInterest.trim();\r\n    if (trimmedInterest) {\r\n      // Use functional update to ensure we have the latest state\r\n      setFormData(prev => {\r\n        const currentInterests = Array.isArray(prev.interests) ? prev.interests : [];\r\n        if (!currentInterests.includes(trimmedInterest)) {\r\n          const updatedInterests = [...currentInterests, trimmedInterest];\r\n          console.log('Adding interest:', trimmedInterest, 'New interests array:', updatedInterests);\r\n          return {\r\n            ...prev,\r\n            interests: updatedInterests\r\n          };\r\n        }\r\n        return prev;\r\n      });\r\n      setNewInterest('');\r\n    } else {\r\n      toast.error('Please enter a valid interest');\r\n    }\r\n  };\r\n\r\n  const removeInterest = (interest) => {\r\n    setFormData(prev => {\r\n      const currentInterests = Array.isArray(prev.interests) ? prev.interests : [];\r\n      const updatedInterests = currentInterests.filter(i => i !== interest);\r\n      console.log('Removing interest:', interest, 'Remaining interests:', updatedInterests);\r\n      return {\r\n        ...prev,\r\n        interests: updatedInterests\r\n      };\r\n    });\r\n  };\r\n\r\n  const addApplication = () => {\r\n    const trimmedApplication = newApplication.trim();\r\n    if (trimmedApplication) {\r\n      setFormData(prev => {\r\n        const currentApplications = Array.isArray(prev.previous_applications) ? prev.previous_applications : [];\r\n        if (!currentApplications.includes(trimmedApplication)) {\r\n          return {\r\n            ...prev,\r\n            previous_applications: [...currentApplications, trimmedApplication]\r\n          };\r\n        }\r\n        return prev;\r\n      });\r\n      setNewApplication('');\r\n    } else {\r\n      toast.error('Please enter a valid application name');\r\n    }\r\n  };\r\n\r\n  const removeApplication = (application) => {\r\n    setFormData(prev => {\r\n      const currentApplications = Array.isArray(prev.previous_applications) ? prev.previous_applications : [];\r\n      return {\r\n        ...prev,\r\n        previous_applications: currentApplications.filter(a => a !== application)\r\n      };\r\n    });\r\n  };\r\n\r\n  const renderProgressIndicator = () => {\r\n    return (\r\n      <div className=\"flex items-center space-x-2 mb-6\">\r\n        <button\r\n          onClick={handleBack}\r\n          disabled={currentStep === 1}\r\n          className=\"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 flex items-center space-x-1 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n        >\r\n          <ArrowLeft className=\"w-4 h-4\" />\r\n          <span>Back</span>\r\n        </button>\r\n        <div className=\"flex-1 flex items-center space-x-2 ml-4\">\r\n          {Array.from({ length: totalSteps }, (_, i) => i + 1).map((step) => (\r\n            <React.Fragment key={step}>\r\n              <div\r\n                className={`w-6 h-6 rounded-full flex items-center justify-center text-xs ${\r\n                  step < currentStep\r\n                    ? 'bg-green-500 text-white'\r\n                    : step === currentStep\r\n                    ? 'bg-green-500 text-white border-2 border-green-600 dark:border-green-400'\r\n                    : 'bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 border-2 border-gray-300 dark:border-gray-600'\r\n                }`}\r\n              >\r\n                {step < currentStep ? (\r\n                  <Check className=\"w-4 h-4\" />\r\n                ) : (\r\n                  <span className=\"font-semibold\">{step}</span>\r\n                )}\r\n              </div>\r\n              {step < totalSteps && (\r\n                <div\r\n                  className={`h-1 w-8 ${\r\n                    step < currentStep ? 'bg-green-500' : 'bg-gray-200 dark:bg-gray-700'\r\n                  }`}\r\n                />\r\n              )}\r\n            </React.Fragment>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderStep1 = () => (\r\n    <div className=\"space-y-4\">\r\n      <div>\r\n        <label className=\"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-3\">\r\n          <span className=\"text-red-500\">*</span>Gender\r\n        </label>\r\n        <div className=\"grid grid-cols-3 gap-3\">\r\n          {['Male', 'Female', 'Transgender'].map((option) => (\r\n            <button\r\n              key={option}\r\n              type=\"button\"\r\n              onClick={() => handleChange('gender', option.toLowerCase())}\r\n              className={`p-4 rounded-lg border-2 transition-all ${\r\n                formData.gender === option.toLowerCase()\r\n                  ? 'border-green-500 bg-green-50 dark:bg-green-900/30 dark:border-green-400'\r\n                  : 'border-gray-200 bg-white dark:bg-gray-700 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500'\r\n              }`}\r\n            >\r\n              <div className=\"flex flex-col items-center space-y-1\">\r\n                <div className=\"text-2xl\">\r\n                  {option === 'Male' && '♂'}\r\n                  {option === 'Female' && '♀'}\r\n                  {option === 'Transgender' && '⚧'}\r\n                </div>\r\n                <span className=\"text-sm font-medium text-gray-800 dark:text-gray-200\">{option}</span>\r\n              </div>\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-3\">\r\n          <span className=\"text-red-500\">*</span>Age\r\n        </label>\r\n        <div className=\"flex items-center space-x-2\">\r\n          <select\r\n            value={formData.age}\r\n            onChange={(e) => handleChange('age', e.target.value)}\r\n            className=\"px-3 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:border-green-500 dark:focus:border-green-400 focus:outline-none text-sm flex-1 text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700\"\r\n          >\r\n            <option value=\"\" className=\"text-gray-600 dark:text-gray-400\">--</option>\r\n            {Array.from({ length: 83 }, (_, i) => i + 18).map((age) => (\r\n              <option key={age} value={age} className=\"text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700\">\r\n                {age}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          <span className=\"text-gray-600 dark:text-gray-400 text-sm\">years</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderStep2 = () => (\r\n    <div className=\"space-y-4\">\r\n      <div>\r\n        <label className=\"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-3\">\r\n          <span className=\"text-red-500\">*</span>State\r\n        </label>\r\n        <select\r\n          value={formData.state}\r\n          onChange={(e) => handleChange('state', e.target.value)}\r\n          className=\"w-full px-3 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:border-green-500 dark:focus:border-green-400 focus:outline-none text-sm text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700\"\r\n        >\r\n          <option value=\"\" className=\"text-gray-600 dark:text-gray-400\">--Select One--</option>\r\n          {states.map((state) => (\r\n            <option key={state} value={state} className=\"text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700\">\r\n              {state}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-3\">\r\n          <span className=\"text-red-500\">*</span>Caste Group\r\n        </label>\r\n        <select\r\n          value={formData.caste_group}\r\n          onChange={(e) => handleChange('caste_group', e.target.value)}\r\n          className=\"w-full px-3 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:border-green-500 dark:focus:border-green-400 focus:outline-none text-sm text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700\"\r\n        >\r\n          <option value=\"\" className=\"text-gray-600 dark:text-gray-400\">--Select One--</option>\r\n          <option value=\"General\" className=\"text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700\">General</option>\r\n          <option value=\"OBC\" className=\"text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700\">Other Backward Class (OBC)</option>\r\n          <option value=\"SC\" className=\"text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700\">Scheduled Caste (SC)</option>\r\n          <option value=\"ST\" className=\"text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700\">Scheduled Tribe (ST)</option>\r\n          <option value=\"Minority\" className=\"text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700\">Minority</option>\r\n          <option value=\"Other\" className=\"text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700\">Other</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderStep3 = () => (\r\n    <div className=\"space-y-4\">\r\n      <div>\r\n        <label className=\"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-3\">\r\n          <span className=\"text-red-500\">*</span>Occupation\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          value={formData.occupation}\r\n          onChange={(e) => handleChange('occupation', e.target.value)}\r\n          placeholder=\"e.g., Student, Farmer, Engineer\"\r\n          className=\"w-full px-3 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:border-green-500 dark:focus:border-green-400 focus:outline-none text-sm text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700 placeholder-gray-400 dark:placeholder-gray-500\"\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-3\">\r\n          Annual Income (₹)\r\n        </label>\r\n        <input\r\n          type=\"number\"\r\n          value={formData.income}\r\n          onChange={(e) => handleChange('income', e.target.value)}\r\n          placeholder=\"Enter your annual income\"\r\n          className=\"w-full px-3 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:border-green-500 dark:focus:border-green-400 focus:outline-none text-sm text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700 placeholder-gray-400 dark:placeholder-gray-500\"\r\n          min=\"0\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderStep4 = () => (\r\n    <div className=\"space-y-6\">\r\n      <div>\r\n        <label className=\"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-3\">\r\n          Interests & Preferences\r\n        </label>\r\n        <div className=\"flex gap-2 mb-3\">\r\n          <input\r\n            type=\"text\"\r\n            value={newInterest}\r\n            onChange={(e) => setNewInterest(e.target.value)}\r\n            onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), addInterest())}\r\n            placeholder=\"e.g., agriculture, education, health\"\r\n            className=\"flex-1 px-3 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:border-green-500 dark:focus:border-green-400 focus:outline-none text-sm text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700 placeholder-gray-400 dark:placeholder-gray-500\"\r\n          />\r\n          <button\r\n            type=\"button\"\r\n            onClick={addInterest}\r\n            className=\"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 text-sm\"\r\n          >\r\n            Add\r\n          </button>\r\n        </div>\r\n        {formData.interests.length > 0 && (\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {formData.interests.map((interest, index) => (\r\n              <span\r\n                key={index}\r\n                className=\"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300\"\r\n              >\r\n                {interest}\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => removeInterest(interest)}\r\n                  className=\"ml-1 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200\"\r\n                >\r\n                  ×\r\n                </button>\r\n              </span>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-3\">\r\n          Previous Applications\r\n        </label>\r\n        <div className=\"flex gap-2 mb-3\">\r\n          <input\r\n            type=\"text\"\r\n            value={newApplication}\r\n            onChange={(e) => setNewApplication(e.target.value)}\r\n            onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), addApplication())}\r\n            placeholder=\"e.g., PM Kisan, Ayushman Bharat\"\r\n            className=\"flex-1 px-3 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:border-green-500 dark:focus:border-green-400 focus:outline-none text-sm text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700 placeholder-gray-400 dark:placeholder-gray-500\"\r\n          />\r\n          <button\r\n            type=\"button\"\r\n            onClick={addApplication}\r\n            className=\"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 text-sm\"\r\n          >\r\n            Add\r\n          </button>\r\n        </div>\r\n        {formData.previous_applications.length > 0 && (\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {formData.previous_applications.map((application, index) => (\r\n              <span\r\n                key={index}\r\n                className=\"inline-flex items-center px-2 py-1 rounded-full text-xs bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300\"\r\n              >\r\n                {application}\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => removeApplication(application)}\r\n                  className=\"ml-1 text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-200\"\r\n                >\r\n                  ×\r\n                </button>\r\n              </span>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderCurrentStep = () => {\r\n    switch (currentStep) {\r\n      case 1:\r\n        return renderStep1();\r\n      case 2:\r\n        return renderStep2();\r\n      case 3:\r\n        return renderStep3();\r\n      case 4:\r\n        return renderStep4();\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  const completionPercentage = profileStatus?.completionPercentage || 0;\r\n\r\n  return (\r\n    <div className=\"max-w-2xl mx-auto\">\r\n      <div className=\"mb-6\">\r\n        <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-2\">Your Profile</h1>\r\n        <p className=\"text-sm text-gray-600 dark:text-gray-300\">Complete your profile to get personalized scheme recommendations.</p>\r\n      </div>\r\n\r\n      {/* Profile Completion Status */}\r\n      {profileStatus && (\r\n        <div className=\"card p-4 mb-6 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700\">\r\n          <div className=\"flex items-center justify-between mb-3\">\r\n            <h2 className=\"text-lg font-semibold text-gray-800 dark:text-gray-200\">Profile Completion</h2>\r\n            <span className=\"text-xl font-bold text-blue-600 dark:text-blue-400\">{completionPercentage}%</span>\r\n          </div>\r\n          <div className=\"w-full bg-gray-200 rounded-full h-2 mb-3\">\r\n            <div \r\n              className=\"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-500\"\r\n              style={{ width: `${completionPercentage}%` }}\r\n            ></div>\r\n          </div>\r\n          {profileStatus.missingFields.length > 0 && (\r\n            <div className=\"flex items-center text-xs text-gray-600\">\r\n              <AlertCircle className=\"w-3 h-3 mr-1\" />\r\n              <span>Missing: {profileStatus.missingFields.join(', ')}</span>\r\n            </div>\r\n          )}\r\n          {completionPercentage === 100 && (\r\n            <div className=\"flex items-center text-xs text-green-600\">\r\n              <CheckCircle className=\"w-3 h-3 mr-1\" />\r\n              <span>Profile complete! You can now get personalized recommendations.</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700\">\r\n        {renderProgressIndicator()}\r\n\r\n        <div className=\"mb-6 min-h-[200px]\">\r\n          {renderCurrentStep()}\r\n        </div>\r\n\r\n        <div className=\"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700\">\r\n          <button\r\n            onClick={handleReset}\r\n            className=\"text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300 flex items-center space-x-1 text-sm\"\r\n          >\r\n            <RotateCcw className=\"w-4 h-4\" />\r\n            <span>Reset</span>\r\n          </button>\r\n\r\n          <button\r\n            onClick={handleNext}\r\n            disabled={loading}\r\n            className=\"px-6 py-2 bg-green-500 text-white rounded-lg font-medium hover:bg-green-600 transition-colors flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed text-sm\"\r\n          >\r\n            {loading ? (\r\n              <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\r\n            ) : (\r\n              <>\r\n                <span>{currentStep === totalSteps ? 'Save Profile' : 'Next'}</span>\r\n                {currentStep < totalSteps ? (\r\n                  <ArrowRight className=\"w-4 h-4\" />\r\n                ) : (\r\n                  <Save className=\"w-4 h-4\" />\r\n                )}\r\n              </>\r\n            )}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,OAAO,QAAQ,yBAAyB;AACjD,SAASC,UAAU,QAAQ,iBAAiB;AAC5C,SAASC,SAAS,EAAEC,UAAU,EAAEC,KAAK,EAAEC,SAAS,EAAEC,IAAI,EAAEC,WAAW,EAAEC,WAAW,QAAQ,cAAc;AACtG,OAAOC,KAAK,MAAM,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEpC,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpB,MAAMC,QAAQ,GAAGjB,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEkB,IAAI;IAAEC,UAAU;IAAEC;EAAS,CAAC,GAAGnB,OAAO,CAAC,CAAC;EAChD,MAAM,CAACoB,WAAW,EAAEC,cAAc,CAAC,GAAGxB,QAAQ,CAAC,CAAC,CAAC;EACjD,MAAM,CAACyB,OAAO,EAAEC,UAAU,CAAC,GAAG1B,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAAC2B,aAAa,EAAEC,gBAAgB,CAAC,GAAG5B,QAAQ,CAAC,IAAI,CAAC;EAExD,MAAM6B,UAAU,GAAG,CAAC;EAEpB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAG/B,QAAQ,CAAC;IACvCgC,MAAM,EAAE,EAAE;IACVC,GAAG,EAAE,EAAE;IACPC,KAAK,EAAE,EAAE;IACTC,WAAW,EAAE,EAAE;IACfC,UAAU,EAAE,EAAE;IACdC,MAAM,EAAE,EAAE;IACVC,SAAS,EAAE,EAAE;IACbC,qBAAqB,EAAE;EACzB,CAAC,CAAC;EAEF,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGzC,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAAC0C,cAAc,EAAEC,iBAAiB,CAAC,GAAG3C,QAAQ,CAAC,EAAE,CAAC;EAExD,MAAM4C,MAAM,GAAG,CACb,gBAAgB,EAAE,mBAAmB,EAAE,OAAO,EAAE,OAAO,EAAE,cAAc,EACvE,KAAK,EAAE,SAAS,EAAE,SAAS,EAAE,kBAAkB,EAAE,WAAW,EAC5D,WAAW,EAAE,QAAQ,EAAE,gBAAgB,EAAE,aAAa,EAAE,SAAS,EACjE,WAAW,EAAE,SAAS,EAAE,UAAU,EAAE,QAAQ,EAAE,QAAQ,EACtD,WAAW,EAAE,QAAQ,EAAE,YAAY,EAAE,WAAW,EAAE,SAAS,EAC3D,eAAe,EAAE,aAAa,EAAE,aAAa,EAAE,OAAO,EAAE,mBAAmB,CAC5E;EAED3C,SAAS,CAAC,MAAM;IACd4C,WAAW,CAAC,CAAC;IACbC,iBAAiB,CAAC,CAAC;EACrB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMD,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC9B,IAAI;MACF,MAAME,QAAQ,GAAG,MAAM3C,UAAU,CAAC4C,UAAU,CAAC,CAAC;MAC9C,MAAMC,OAAO,GAAGF,QAAQ,CAACG,IAAI,CAACD,OAAO;;MAErC;MACA,MAAMX,SAAS,GAAGa,KAAK,CAACC,OAAO,CAACH,OAAO,CAACX,SAAS,CAAC,GAAGW,OAAO,CAACX,SAAS,GAAIW,OAAO,CAACX,SAAS,GAAG,CAACW,OAAO,CAACX,SAAS,CAAC,GAAG,EAAG;MACvH,MAAMC,qBAAqB,GAAGY,KAAK,CAACC,OAAO,CAACH,OAAO,CAACV,qBAAqB,CAAC,GACtEU,OAAO,CAACV,qBAAqB,GAC5BU,OAAO,CAACV,qBAAqB,GAAG,CAACU,OAAO,CAACV,qBAAqB,CAAC,GAAG,EAAG;MAE1Ec,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAE;QAC7BhB,SAAS;QACTiB,eAAe,EAAEjB,SAAS,CAACkB,MAAM;QACjCjB,qBAAqB;QACrBkB,2BAA2B,EAAElB,qBAAqB,CAACiB;MACrD,CAAC,CAAC;MAEFzB,WAAW,CAAC;QACVC,MAAM,EAAEiB,OAAO,CAACjB,MAAM,IAAI,EAAE;QAC5BC,GAAG,EAAEgB,OAAO,CAAChB,GAAG,IAAI,EAAE;QACtBC,KAAK,EAAEe,OAAO,CAACf,KAAK,IAAI,EAAE;QAC1BC,WAAW,EAAEc,OAAO,CAACd,WAAW,IAAI,EAAE;QACtCC,UAAU,EAAEa,OAAO,CAACb,UAAU,IAAI,EAAE;QACpCC,MAAM,EAAEY,OAAO,CAACZ,MAAM,IAAI,EAAE;QAC5BC,SAAS,EAAEA,SAAS;QACpBC,qBAAqB,EAAEA;MACzB,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOmB,KAAK,EAAE;MACdL,OAAO,CAACK,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC/C9C,KAAK,CAAC8C,KAAK,CAAC,wBAAwB,CAAC;IACvC;EACF,CAAC;EAED,MAAMZ,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IACpC,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAM3C,UAAU,CAACuD,gBAAgB,CAAC,CAAC;MACpD/B,gBAAgB,CAACmB,QAAQ,CAACG,IAAI,CAAC;IACjC,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACdL,OAAO,CAACK,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;IACxD;EACF,CAAC;EAED,MAAME,YAAY,GAAGA,CAACC,KAAK,EAAEC,KAAK,KAAK;IACrC/B,WAAW,CAACgC,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAE,CAACF,KAAK,GAAGC;IAAM,CAAC,CAAC,CAAC;EACpD,CAAC;EAED,MAAME,UAAU,GAAGA,CAAA,KAAM;IACvB,IAAIC,YAAY,CAAC1C,WAAW,CAAC,EAAE;MAC7B,IAAIA,WAAW,GAAGM,UAAU,EAAE;QAC5BL,cAAc,CAACD,WAAW,GAAG,CAAC,CAAC;MACjC,CAAC,MAAM;QACL2C,YAAY,CAAC,CAAC;MAChB;IACF;EACF,CAAC;EAED,MAAMC,UAAU,GAAGA,CAAA,KAAM;IACvB,IAAI5C,WAAW,GAAG,CAAC,EAAE;MACnBC,cAAc,CAACD,WAAW,GAAG,CAAC,CAAC;IACjC;EACF,CAAC;EAED,MAAM6C,WAAW,GAAGA,CAAA,KAAM;IACxBvB,WAAW,CAAC,CAAC;IACbrB,cAAc,CAAC,CAAC,CAAC;IACjBZ,KAAK,CAACyD,OAAO,CAAC,4BAA4B,CAAC;EAC7C,CAAC;EAED,MAAMJ,YAAY,GAAIK,IAAI,IAAK;IAC7B,QAAQA,IAAI;MACV,KAAK,CAAC;QACJ,IAAI,CAACxC,QAAQ,CAACE,MAAM,EAAE;UACpBpB,KAAK,CAAC8C,KAAK,CAAC,2BAA2B,CAAC;UACxC,OAAO,KAAK;QACd;QACA,IAAI,CAAC5B,QAAQ,CAACG,GAAG,IAAIH,QAAQ,CAACG,GAAG,GAAG,EAAE,IAAIH,QAAQ,CAACG,GAAG,GAAG,GAAG,EAAE;UAC5DrB,KAAK,CAAC8C,KAAK,CAAC,mCAAmC,CAAC;UAChD,OAAO,KAAK;QACd;QACA,OAAO,IAAI;MACb,KAAK,CAAC;QACJ,IAAI,CAAC5B,QAAQ,CAACI,KAAK,EAAE;UACnBtB,KAAK,CAAC8C,KAAK,CAAC,0BAA0B,CAAC;UACvC,OAAO,KAAK;QACd;QACA,IAAI,CAAC5B,QAAQ,CAACK,WAAW,EAAE;UACzBvB,KAAK,CAAC8C,KAAK,CAAC,gCAAgC,CAAC;UAC7C,OAAO,KAAK;QACd;QACA,OAAO,IAAI;MACb,KAAK,CAAC;QACJ,IAAI,CAAC5B,QAAQ,CAACM,UAAU,EAAE;UACxBxB,KAAK,CAAC8C,KAAK,CAAC,8BAA8B,CAAC;UAC3C,OAAO,KAAK;QACd;QACA,OAAO,IAAI;MACb,KAAK,CAAC;QACJ,OAAO,IAAI;MAAE;MACf;QACE,OAAO,IAAI;IACf;EACF,CAAC;EAED,MAAMQ,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/BxC,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MAAA,IAAA6C,qBAAA;MACF;MACA,MAAMC,YAAY,GAAG;QACnB,GAAG1C,QAAQ;QACXQ,SAAS,EAAEa,KAAK,CAACC,OAAO,CAACtB,QAAQ,CAACQ,SAAS,CAAC,GAAGR,QAAQ,CAACQ,SAAS,GAAG,EAAE;QACtEC,qBAAqB,EAAEY,KAAK,CAACC,OAAO,CAACtB,QAAQ,CAACS,qBAAqB,CAAC,GAAGT,QAAQ,CAACS,qBAAqB,GAAG;MAC1G,CAAC;;MAED;MACAc,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;MAC9CD,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAExB,QAAQ,CAAC;MACzCuB,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEkB,YAAY,CAAC;MAC5CnB,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAE;QAChChB,SAAS,EAAEkC,YAAY,CAAClC,SAAS;QACjCmC,aAAa,EAAE,OAAOD,YAAY,CAAClC,SAAS;QAC5Cc,OAAO,EAAED,KAAK,CAACC,OAAO,CAACoB,YAAY,CAAClC,SAAS,CAAC;QAC9CiB,eAAe,EAAEiB,YAAY,CAAClC,SAAS,CAACkB,MAAM;QAC9CkB,aAAa,EAAEC,IAAI,CAACC,SAAS,CAACJ,YAAY,CAAClC,SAAS;MACtD,CAAC,CAAC;MAEF,MAAMS,QAAQ,GAAG,MAAM3C,UAAU,CAACyE,aAAa,CAACL,YAAY,CAAC;MAC7DnB,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEP,QAAQ,CAACG,IAAI,CAAC;MACtDG,OAAO,CAACC,GAAG,CAAC,qBAAqB,GAAAiB,qBAAA,GAAExB,QAAQ,CAACG,IAAI,CAACD,OAAO,cAAAsB,qBAAA,uBAArBA,qBAAA,CAAuBjC,SAAS,CAAC;;MAEpE;MACA,MAAMhB,QAAQ,CAAC,CAAC;MAChBV,KAAK,CAACyD,OAAO,CAAC,+BAA+B,CAAC;MAC9CvB,iBAAiB,CAAC,CAAC;MACnB;MACAgC,UAAU,CAAC,MAAM;QACf3D,QAAQ,CAAC,YAAY,CAAC;MACxB,CAAC,EAAE,IAAI,CAAC;IACV,CAAC,CAAC,OAAOuC,KAAK,EAAE;MAAA,IAAAqB,eAAA,EAAAC,gBAAA,EAAAC,qBAAA;MACd5B,OAAO,CAACK,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACjDL,OAAO,CAACK,KAAK,CAAC,iBAAiB,GAAAqB,eAAA,GAAErB,KAAK,CAACX,QAAQ,cAAAgC,eAAA,uBAAdA,eAAA,CAAgB7B,IAAI,CAAC;MACtDtC,KAAK,CAAC8C,KAAK,CAAC,EAAAsB,gBAAA,GAAAtB,KAAK,CAACX,QAAQ,cAAAiC,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgB9B,IAAI,cAAA+B,qBAAA,uBAApBA,qBAAA,CAAsBC,OAAO,KAAI,0BAA0B,CAAC;IAC1E,CAAC,SAAS;MACRxD,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMyD,WAAW,GAAGA,CAAA,KAAM;IACxB,MAAMC,eAAe,GAAG5C,WAAW,CAAC6C,IAAI,CAAC,CAAC;IAC1C,IAAID,eAAe,EAAE;MACnB;MACArD,WAAW,CAACgC,IAAI,IAAI;QAClB,MAAMuB,gBAAgB,GAAGnC,KAAK,CAACC,OAAO,CAACW,IAAI,CAACzB,SAAS,CAAC,GAAGyB,IAAI,CAACzB,SAAS,GAAG,EAAE;QAC5E,IAAI,CAACgD,gBAAgB,CAACC,QAAQ,CAACH,eAAe,CAAC,EAAE;UAC/C,MAAMI,gBAAgB,GAAG,CAAC,GAAGF,gBAAgB,EAAEF,eAAe,CAAC;UAC/D/B,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAE8B,eAAe,EAAE,sBAAsB,EAAEI,gBAAgB,CAAC;UAC1F,OAAO;YACL,GAAGzB,IAAI;YACPzB,SAAS,EAAEkD;UACb,CAAC;QACH;QACA,OAAOzB,IAAI;MACb,CAAC,CAAC;MACFtB,cAAc,CAAC,EAAE,CAAC;IACpB,CAAC,MAAM;MACL7B,KAAK,CAAC8C,KAAK,CAAC,+BAA+B,CAAC;IAC9C;EACF,CAAC;EAED,MAAM+B,cAAc,GAAIC,QAAQ,IAAK;IACnC3D,WAAW,CAACgC,IAAI,IAAI;MAClB,MAAMuB,gBAAgB,GAAGnC,KAAK,CAACC,OAAO,CAACW,IAAI,CAACzB,SAAS,CAAC,GAAGyB,IAAI,CAACzB,SAAS,GAAG,EAAE;MAC5E,MAAMkD,gBAAgB,GAAGF,gBAAgB,CAACK,MAAM,CAACC,CAAC,IAAIA,CAAC,KAAKF,QAAQ,CAAC;MACrErC,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEoC,QAAQ,EAAE,sBAAsB,EAAEF,gBAAgB,CAAC;MACrF,OAAO;QACL,GAAGzB,IAAI;QACPzB,SAAS,EAAEkD;MACb,CAAC;IACH,CAAC,CAAC;EACJ,CAAC;EAED,MAAMK,cAAc,GAAGA,CAAA,KAAM;IAC3B,MAAMC,kBAAkB,GAAGpD,cAAc,CAAC2C,IAAI,CAAC,CAAC;IAChD,IAAIS,kBAAkB,EAAE;MACtB/D,WAAW,CAACgC,IAAI,IAAI;QAClB,MAAMgC,mBAAmB,GAAG5C,KAAK,CAACC,OAAO,CAACW,IAAI,CAACxB,qBAAqB,CAAC,GAAGwB,IAAI,CAACxB,qBAAqB,GAAG,EAAE;QACvG,IAAI,CAACwD,mBAAmB,CAACR,QAAQ,CAACO,kBAAkB,CAAC,EAAE;UACrD,OAAO;YACL,GAAG/B,IAAI;YACPxB,qBAAqB,EAAE,CAAC,GAAGwD,mBAAmB,EAAED,kBAAkB;UACpE,CAAC;QACH;QACA,OAAO/B,IAAI;MACb,CAAC,CAAC;MACFpB,iBAAiB,CAAC,EAAE,CAAC;IACvB,CAAC,MAAM;MACL/B,KAAK,CAAC8C,KAAK,CAAC,uCAAuC,CAAC;IACtD;EACF,CAAC;EAED,MAAMsC,iBAAiB,GAAIC,WAAW,IAAK;IACzClE,WAAW,CAACgC,IAAI,IAAI;MAClB,MAAMgC,mBAAmB,GAAG5C,KAAK,CAACC,OAAO,CAACW,IAAI,CAACxB,qBAAqB,CAAC,GAAGwB,IAAI,CAACxB,qBAAqB,GAAG,EAAE;MACvG,OAAO;QACL,GAAGwB,IAAI;QACPxB,qBAAqB,EAAEwD,mBAAmB,CAACJ,MAAM,CAACO,CAAC,IAAIA,CAAC,KAAKD,WAAW;MAC1E,CAAC;IACH,CAAC,CAAC;EACJ,CAAC;EAED,MAAME,uBAAuB,GAAGA,CAAA,KAAM;IACpC,oBACErF,OAAA;MAAKsF,SAAS,EAAC,kCAAkC;MAAAC,QAAA,gBAC/CvF,OAAA;QACEwF,OAAO,EAAEnC,UAAW;QACpBoC,QAAQ,EAAEhF,WAAW,KAAK,CAAE;QAC5B6E,SAAS,EAAC,2JAA2J;QAAAC,QAAA,gBAErKvF,OAAA,CAACT,SAAS;UAAC+F,SAAS,EAAC;QAAS;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACjC7F,OAAA;UAAAuF,QAAA,EAAM;QAAI;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACX,CAAC,eACT7F,OAAA;QAAKsF,SAAS,EAAC,yCAAyC;QAAAC,QAAA,EACrDlD,KAAK,CAACyD,IAAI,CAAC;UAAEpD,MAAM,EAAE3B;QAAW,CAAC,EAAE,CAACgF,CAAC,EAAEjB,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,CAACkB,GAAG,CAAExC,IAAI,iBAC5DxD,OAAA,CAACf,KAAK,CAACgB,QAAQ;UAAAsF,QAAA,gBACbvF,OAAA;YACEsF,SAAS,EAAE,iEACT9B,IAAI,GAAG/C,WAAW,GACd,yBAAyB,GACzB+C,IAAI,KAAK/C,WAAW,GACpB,yEAAyE,GACzE,6GAA6G,EAChH;YAAA8E,QAAA,EAEF/B,IAAI,GAAG/C,WAAW,gBACjBT,OAAA,CAACP,KAAK;cAAC6F,SAAS,EAAC;YAAS;cAAAI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,gBAE7B7F,OAAA;cAAMsF,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAE/B;YAAI;cAAAkC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO;UAC7C;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,EACLrC,IAAI,GAAGzC,UAAU,iBAChBf,OAAA;YACEsF,SAAS,EAAE,WACT9B,IAAI,GAAG/C,WAAW,GAAG,cAAc,GAAG,8BAA8B;UACnE;YAAAiF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ,CACF;QAAA,GAtBkBrC,IAAI;UAAAkC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAuBT,CACjB;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV,CAAC;EAED,MAAMI,WAAW,GAAGA,CAAA,kBAClBjG,OAAA;IAAKsF,SAAS,EAAC,WAAW;IAAAC,QAAA,gBACxBvF,OAAA;MAAAuF,QAAA,gBACEvF,OAAA;QAAOsF,SAAS,EAAC,mEAAmE;QAAAC,QAAA,gBAClFvF,OAAA;UAAMsF,SAAS,EAAC,cAAc;UAAAC,QAAA,EAAC;QAAC;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,UACzC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACR7F,OAAA;QAAKsF,SAAS,EAAC,wBAAwB;QAAAC,QAAA,EACpC,CAAC,MAAM,EAAE,QAAQ,EAAE,aAAa,CAAC,CAACS,GAAG,CAAEE,MAAM,iBAC5ClG,OAAA;UAEEmG,IAAI,EAAC,QAAQ;UACbX,OAAO,EAAEA,CAAA,KAAM1C,YAAY,CAAC,QAAQ,EAAEoD,MAAM,CAACE,WAAW,CAAC,CAAC,CAAE;UAC5Dd,SAAS,EAAE,0CACTtE,QAAQ,CAACE,MAAM,KAAKgF,MAAM,CAACE,WAAW,CAAC,CAAC,GACpC,yEAAyE,GACzE,iHAAiH,EACpH;UAAAb,QAAA,eAEHvF,OAAA;YAAKsF,SAAS,EAAC,sCAAsC;YAAAC,QAAA,gBACnDvF,OAAA;cAAKsF,SAAS,EAAC,UAAU;cAAAC,QAAA,GACtBW,MAAM,KAAK,MAAM,IAAI,GAAG,EACxBA,MAAM,KAAK,QAAQ,IAAI,GAAG,EAC1BA,MAAM,KAAK,aAAa,IAAI,GAAG;YAAA;cAAAR,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7B,CAAC,eACN7F,OAAA;cAAMsF,SAAS,EAAC,sDAAsD;cAAAC,QAAA,EAAEW;YAAM;cAAAR,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnF;QAAC,GAhBDK,MAAM;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAiBL,CACT;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAEN7F,OAAA;MAAAuF,QAAA,gBACEvF,OAAA;QAAOsF,SAAS,EAAC,mEAAmE;QAAAC,QAAA,gBAClFvF,OAAA;UAAMsF,SAAS,EAAC,cAAc;UAAAC,QAAA,EAAC;QAAC;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,OACzC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACR7F,OAAA;QAAKsF,SAAS,EAAC,6BAA6B;QAAAC,QAAA,gBAC1CvF,OAAA;UACEgD,KAAK,EAAEhC,QAAQ,CAACG,GAAI;UACpBkF,QAAQ,EAAGC,CAAC,IAAKxD,YAAY,CAAC,KAAK,EAAEwD,CAAC,CAACC,MAAM,CAACvD,KAAK,CAAE;UACrDsC,SAAS,EAAC,oNAAoN;UAAAC,QAAA,gBAE9NvF,OAAA;YAAQgD,KAAK,EAAC,EAAE;YAACsC,SAAS,EAAC,kCAAkC;YAAAC,QAAA,EAAC;UAAE;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,EACxExD,KAAK,CAACyD,IAAI,CAAC;YAAEpD,MAAM,EAAE;UAAG,CAAC,EAAE,CAACqD,CAAC,EAAEjB,CAAC,KAAKA,CAAC,GAAG,EAAE,CAAC,CAACkB,GAAG,CAAE7E,GAAG,iBACpDnB,OAAA;YAAkBgD,KAAK,EAAE7B,GAAI;YAACmE,SAAS,EAAC,4DAA4D;YAAAC,QAAA,EACjGpE;UAAG,GADOA,GAAG;YAAAuE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAER,CACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACI,CAAC,eACT7F,OAAA;UAAMsF,SAAS,EAAC,0CAA0C;UAAAC,QAAA,EAAC;QAAK;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CACN;EAED,MAAMW,WAAW,GAAGA,CAAA,kBAClBxG,OAAA;IAAKsF,SAAS,EAAC,WAAW;IAAAC,QAAA,gBACxBvF,OAAA;MAAAuF,QAAA,gBACEvF,OAAA;QAAOsF,SAAS,EAAC,mEAAmE;QAAAC,QAAA,gBAClFvF,OAAA;UAAMsF,SAAS,EAAC,cAAc;UAAAC,QAAA,EAAC;QAAC;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,SACzC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACR7F,OAAA;QACEgD,KAAK,EAAEhC,QAAQ,CAACI,KAAM;QACtBiF,QAAQ,EAAGC,CAAC,IAAKxD,YAAY,CAAC,OAAO,EAAEwD,CAAC,CAACC,MAAM,CAACvD,KAAK,CAAE;QACvDsC,SAAS,EAAC,oNAAoN;QAAAC,QAAA,gBAE9NvF,OAAA;UAAQgD,KAAK,EAAC,EAAE;UAACsC,SAAS,EAAC,kCAAkC;UAAAC,QAAA,EAAC;QAAc;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,EACpF/D,MAAM,CAACkE,GAAG,CAAE5E,KAAK,iBAChBpB,OAAA;UAAoBgD,KAAK,EAAE5B,KAAM;UAACkE,SAAS,EAAC,4DAA4D;UAAAC,QAAA,EACrGnE;QAAK,GADKA,KAAK;UAAAsE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEV,CACT,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eAEN7F,OAAA;MAAAuF,QAAA,gBACEvF,OAAA;QAAOsF,SAAS,EAAC,mEAAmE;QAAAC,QAAA,gBAClFvF,OAAA;UAAMsF,SAAS,EAAC,cAAc;UAAAC,QAAA,EAAC;QAAC;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACzC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACR7F,OAAA;QACEgD,KAAK,EAAEhC,QAAQ,CAACK,WAAY;QAC5BgF,QAAQ,EAAGC,CAAC,IAAKxD,YAAY,CAAC,aAAa,EAAEwD,CAAC,CAACC,MAAM,CAACvD,KAAK,CAAE;QAC7DsC,SAAS,EAAC,oNAAoN;QAAAC,QAAA,gBAE9NvF,OAAA;UAAQgD,KAAK,EAAC,EAAE;UAACsC,SAAS,EAAC,kCAAkC;UAAAC,QAAA,EAAC;QAAc;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACrF7F,OAAA;UAAQgD,KAAK,EAAC,SAAS;UAACsC,SAAS,EAAC,4DAA4D;UAAAC,QAAA,EAAC;QAAO;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAC/G7F,OAAA;UAAQgD,KAAK,EAAC,KAAK;UAACsC,SAAS,EAAC,4DAA4D;UAAAC,QAAA,EAAC;QAA0B;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAC9H7F,OAAA;UAAQgD,KAAK,EAAC,IAAI;UAACsC,SAAS,EAAC,4DAA4D;UAAAC,QAAA,EAAC;QAAoB;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACvH7F,OAAA;UAAQgD,KAAK,EAAC,IAAI;UAACsC,SAAS,EAAC,4DAA4D;UAAAC,QAAA,EAAC;QAAoB;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACvH7F,OAAA;UAAQgD,KAAK,EAAC,UAAU;UAACsC,SAAS,EAAC,4DAA4D;UAAAC,QAAA,EAAC;QAAQ;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACjH7F,OAAA;UAAQgD,KAAK,EAAC,OAAO;UAACsC,SAAS,EAAC,4DAA4D;UAAAC,QAAA,EAAC;QAAK;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACrG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CACN;EAED,MAAMY,WAAW,GAAGA,CAAA,kBAClBzG,OAAA;IAAKsF,SAAS,EAAC,WAAW;IAAAC,QAAA,gBACxBvF,OAAA;MAAAuF,QAAA,gBACEvF,OAAA;QAAOsF,SAAS,EAAC,mEAAmE;QAAAC,QAAA,gBAClFvF,OAAA;UAAMsF,SAAS,EAAC,cAAc;UAAAC,QAAA,EAAC;QAAC;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,cACzC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACR7F,OAAA;QACEmG,IAAI,EAAC,MAAM;QACXnD,KAAK,EAAEhC,QAAQ,CAACM,UAAW;QAC3B+E,QAAQ,EAAGC,CAAC,IAAKxD,YAAY,CAAC,YAAY,EAAEwD,CAAC,CAACC,MAAM,CAACvD,KAAK,CAAE;QAC5D0D,WAAW,EAAC,iCAAiC;QAC7CpB,SAAS,EAAC;MAAmQ;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9Q,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAEN7F,OAAA;MAAAuF,QAAA,gBACEvF,OAAA;QAAOsF,SAAS,EAAC,mEAAmE;QAAAC,QAAA,EAAC;MAErF;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACR7F,OAAA;QACEmG,IAAI,EAAC,QAAQ;QACbnD,KAAK,EAAEhC,QAAQ,CAACO,MAAO;QACvB8E,QAAQ,EAAGC,CAAC,IAAKxD,YAAY,CAAC,QAAQ,EAAEwD,CAAC,CAACC,MAAM,CAACvD,KAAK,CAAE;QACxD0D,WAAW,EAAC,0BAA0B;QACtCpB,SAAS,EAAC,mQAAmQ;QAC7QqB,GAAG,EAAC;MAAG;QAAAjB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACR,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CACN;EAED,MAAMe,WAAW,GAAGA,CAAA,kBAClB5G,OAAA;IAAKsF,SAAS,EAAC,WAAW;IAAAC,QAAA,gBACxBvF,OAAA;MAAAuF,QAAA,gBACEvF,OAAA;QAAOsF,SAAS,EAAC,mEAAmE;QAAAC,QAAA,EAAC;MAErF;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACR7F,OAAA;QAAKsF,SAAS,EAAC,iBAAiB;QAAAC,QAAA,gBAC9BvF,OAAA;UACEmG,IAAI,EAAC,MAAM;UACXnD,KAAK,EAAEtB,WAAY;UACnB2E,QAAQ,EAAGC,CAAC,IAAK3E,cAAc,CAAC2E,CAAC,CAACC,MAAM,CAACvD,KAAK,CAAE;UAChD6D,UAAU,EAAGP,CAAC,IAAKA,CAAC,CAACQ,GAAG,KAAK,OAAO,KAAKR,CAAC,CAACS,cAAc,CAAC,CAAC,EAAE1C,WAAW,CAAC,CAAC,CAAE;UAC5EqC,WAAW,EAAC,sCAAsC;UAClDpB,SAAS,EAAC;QAAmQ;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9Q,CAAC,eACF7F,OAAA;UACEmG,IAAI,EAAC,QAAQ;UACbX,OAAO,EAAEnB,WAAY;UACrBiB,SAAS,EAAC,yEAAyE;UAAAC,QAAA,EACpF;QAED;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,EACL7E,QAAQ,CAACQ,SAAS,CAACkB,MAAM,GAAG,CAAC,iBAC5B1C,OAAA;QAAKsF,SAAS,EAAC,sBAAsB;QAAAC,QAAA,EAClCvE,QAAQ,CAACQ,SAAS,CAACwE,GAAG,CAAC,CAACpB,QAAQ,EAAEoC,KAAK,kBACtChH,OAAA;UAEEsF,SAAS,EAAC,0HAA0H;UAAAC,QAAA,GAEnIX,QAAQ,eACT5E,OAAA;YACEmG,IAAI,EAAC,QAAQ;YACbX,OAAO,EAAEA,CAAA,KAAMb,cAAc,CAACC,QAAQ,CAAE;YACxCU,SAAS,EAAC,oFAAoF;YAAAC,QAAA,EAC/F;UAED;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA,GAVJmB,KAAK;UAAAtB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAWN,CACP;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAEN7F,OAAA;MAAAuF,QAAA,gBACEvF,OAAA;QAAOsF,SAAS,EAAC,mEAAmE;QAAAC,QAAA,EAAC;MAErF;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACR7F,OAAA;QAAKsF,SAAS,EAAC,iBAAiB;QAAAC,QAAA,gBAC9BvF,OAAA;UACEmG,IAAI,EAAC,MAAM;UACXnD,KAAK,EAAEpB,cAAe;UACtByE,QAAQ,EAAGC,CAAC,IAAKzE,iBAAiB,CAACyE,CAAC,CAACC,MAAM,CAACvD,KAAK,CAAE;UACnD6D,UAAU,EAAGP,CAAC,IAAKA,CAAC,CAACQ,GAAG,KAAK,OAAO,KAAKR,CAAC,CAACS,cAAc,CAAC,CAAC,EAAEhC,cAAc,CAAC,CAAC,CAAE;UAC/E2B,WAAW,EAAC,iCAAiC;UAC7CpB,SAAS,EAAC;QAAmQ;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9Q,CAAC,eACF7F,OAAA;UACEmG,IAAI,EAAC,QAAQ;UACbX,OAAO,EAAET,cAAe;UACxBO,SAAS,EAAC,yEAAyE;UAAAC,QAAA,EACpF;QAED;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,EACL7E,QAAQ,CAACS,qBAAqB,CAACiB,MAAM,GAAG,CAAC,iBACxC1C,OAAA;QAAKsF,SAAS,EAAC,sBAAsB;QAAAC,QAAA,EAClCvE,QAAQ,CAACS,qBAAqB,CAACuE,GAAG,CAAC,CAACb,WAAW,EAAE6B,KAAK,kBACrDhH,OAAA;UAEEsF,SAAS,EAAC,8HAA8H;UAAAC,QAAA,GAEvIJ,WAAW,eACZnF,OAAA;YACEmG,IAAI,EAAC,QAAQ;YACbX,OAAO,EAAEA,CAAA,KAAMN,iBAAiB,CAACC,WAAW,CAAE;YAC9CG,SAAS,EAAC,wFAAwF;YAAAC,QAAA,EACnG;UAED;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA,GAVJmB,KAAK;UAAAtB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAWN,CACP;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CACN;EAED,MAAMoB,iBAAiB,GAAGA,CAAA,KAAM;IAC9B,QAAQxG,WAAW;MACjB,KAAK,CAAC;QACJ,OAAOwF,WAAW,CAAC,CAAC;MACtB,KAAK,CAAC;QACJ,OAAOO,WAAW,CAAC,CAAC;MACtB,KAAK,CAAC;QACJ,OAAOC,WAAW,CAAC,CAAC;MACtB,KAAK,CAAC;QACJ,OAAOG,WAAW,CAAC,CAAC;MACtB;QACE,OAAO,IAAI;IACf;EACF,CAAC;EAED,MAAMM,oBAAoB,GAAG,CAAArG,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAEqG,oBAAoB,KAAI,CAAC;EAErE,oBACElH,OAAA;IAAKsF,SAAS,EAAC,mBAAmB;IAAAC,QAAA,gBAChCvF,OAAA;MAAKsF,SAAS,EAAC,MAAM;MAAAC,QAAA,gBACnBvF,OAAA;QAAIsF,SAAS,EAAC,uDAAuD;QAAAC,QAAA,EAAC;MAAY;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACvF7F,OAAA;QAAGsF,SAAS,EAAC,0CAA0C;QAAAC,QAAA,EAAC;MAAiE;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1H,CAAC,EAGLhF,aAAa,iBACZb,OAAA;MAAKsF,SAAS,EAAC,qFAAqF;MAAAC,QAAA,gBAClGvF,OAAA;QAAKsF,SAAS,EAAC,wCAAwC;QAAAC,QAAA,gBACrDvF,OAAA;UAAIsF,SAAS,EAAC,wDAAwD;UAAAC,QAAA,EAAC;QAAkB;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC9F7F,OAAA;UAAMsF,SAAS,EAAC,oDAAoD;UAAAC,QAAA,GAAE2B,oBAAoB,EAAC,GAAC;QAAA;UAAAxB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChG,CAAC,eACN7F,OAAA;QAAKsF,SAAS,EAAC,0CAA0C;QAAAC,QAAA,eACvDvF,OAAA;UACEsF,SAAS,EAAC,2FAA2F;UACrG6B,KAAK,EAAE;YAAEC,KAAK,EAAE,GAAGF,oBAAoB;UAAI;QAAE;UAAAxB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC,EACLhF,aAAa,CAACwG,aAAa,CAAC3E,MAAM,GAAG,CAAC,iBACrC1C,OAAA;QAAKsF,SAAS,EAAC,yCAAyC;QAAAC,QAAA,gBACtDvF,OAAA,CAACH,WAAW;UAACyF,SAAS,EAAC;QAAc;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACxC7F,OAAA;UAAAuF,QAAA,GAAM,WAAS,EAAC1E,aAAa,CAACwG,aAAa,CAACC,IAAI,CAAC,IAAI,CAAC;QAAA;UAAA5B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3D,CACN,EACAqB,oBAAoB,KAAK,GAAG,iBAC3BlH,OAAA;QAAKsF,SAAS,EAAC,0CAA0C;QAAAC,QAAA,gBACvDvF,OAAA,CAACJ,WAAW;UAAC0F,SAAS,EAAC;QAAc;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACxC7F,OAAA;UAAAuF,QAAA,EAAM;QAA+D;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzE,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CACN,eAED7F,OAAA;MAAKsF,SAAS,EAAC,gGAAgG;MAAAC,QAAA,GAC5GF,uBAAuB,CAAC,CAAC,eAE1BrF,OAAA;QAAKsF,SAAS,EAAC,oBAAoB;QAAAC,QAAA,EAChC0B,iBAAiB,CAAC;MAAC;QAAAvB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjB,CAAC,eAEN7F,OAAA;QAAKsF,SAAS,EAAC,sFAAsF;QAAAC,QAAA,gBACnGvF,OAAA;UACEwF,OAAO,EAAElC,WAAY;UACrBgC,SAAS,EAAC,uHAAuH;UAAAC,QAAA,gBAEjIvF,OAAA,CAACN,SAAS;YAAC4F,SAAS,EAAC;UAAS;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACjC7F,OAAA;YAAAuF,QAAA,EAAM;UAAK;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACZ,CAAC,eAET7F,OAAA;UACEwF,OAAO,EAAEtC,UAAW;UACpBuC,QAAQ,EAAE9E,OAAQ;UAClB2E,SAAS,EAAC,mLAAmL;UAAAC,QAAA,EAE5L5E,OAAO,gBACNX,OAAA;YAAKsF,SAAS,EAAC;UAA8E;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,gBAEpG7F,OAAA,CAAAE,SAAA;YAAAqF,QAAA,gBACEvF,OAAA;cAAAuF,QAAA,EAAO9E,WAAW,KAAKM,UAAU,GAAG,cAAc,GAAG;YAAM;cAAA2E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,EAClEpF,WAAW,GAAGM,UAAU,gBACvBf,OAAA,CAACR,UAAU;cAAC8F,SAAS,EAAC;YAAS;cAAAI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,gBAElC7F,OAAA,CAACL,IAAI;cAAC2F,SAAS,EAAC;YAAS;cAAAI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAC5B;UAAA,eACD;QACH;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACzF,EAAA,CAllBID,OAAO;EAAA,QACMf,WAAW,EACWC,OAAO;AAAA;AAAAkI,EAAA,GAF1CpH,OAAO;AAolBb,eAAeA,OAAO;AAAC,IAAAoH,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}